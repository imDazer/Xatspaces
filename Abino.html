<!DOCTYPE html> 
 <title>Cutey` Profile</title>

<link rel="stylesheet" <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://use.typekit.net/mbt4tna.css">
<link rel="stylesheet" href="https://use.typekit.net/bhu4ulz.css">
<link rel="stylesheet" href="https://use.typekit.net/muj8waj.css">
<link rel="stylesheet" href="https://use.typekit.net/mrb5dne.css">
<link rel="stylesheet" href="https://use.typekit.net/kid2tin.css">
<link rel="stylesheet" href="https://use.typekit.net/zfz5aun.css">
<div id="header1">
  <div class="tech">
    <center>Cutey`</center>
	</div>
  <div class="tech">
	<center><center><p style="font-size:100px">ð“ƒ </p></center>
  </div>
</div>
<div id="header2">
  <div class="blurb">
  Ladies do not start fights....
  </div>
  <div class="icon">
    <a href="#wrapper">
     <center><i class="ri-fingerprint-line"></i></center>
  <center><p style="font-size:8px">Don't click me</p></center>
    </a>
  </div>
  <div class="links">
    <a href="https://img.xatblog.net/image/eDpofTRELIb.png"target="_blank">Cat</a>
    <a href="https://github.com/cuteyxat"target="_blank">GitHub</a>
    <a href="http://forum.xat.com/"target="_blank">Forum</a>
    <a href="http://xat.com/help/"target="_blank">Help</a>
    <a href="https://cuteyxat.github.io/Discorduser/"target="_blank">Discord</a>
  </div>
</div>
<div id="wrapper">
  <div id="user-bar">
    <div class="left">
      <a href="https://cuteyxat.github.io/jkjnn/" target="_blank"title="alerts">
        <i class="ri-notification-2-fill new"></i>
      </a>
      <a href="https://cuteyxat.github.io/triumph/" target="_blank"title="messages">
        <i class="ri-mail-line"></i>
      </a>
    </div>
    <a class="name" href="">Quite frankly, my dear, I don't give a damn.</a>
    <div class="right">
      <a href="https://cuteyxat.github.io/dghgfd/" target="_blank"title="">
        <i class="ri-settings-5-line"></i>
      </a>
      <a href="https://cuteyxat.github.io/Jeima/" target="_blank"
        <i class="ri-shut-down-line"></i>
      </a>
    </div>
  </div>
  
  <div class="tri-left"></div>
  <div class="tri-right"></div>
  
  <div id="navigation">
    <div class="navigation">
      <div class="nav">
        <a href="https://cuteyxat.github.io/jkjnn/" target="_blank">ALERTS</a>
        <div class="sep"></div>
        <a href="https://cuteyxat.github.io/Jeima/" target="_blank">MY WICKED ADVICE</a>
        <div class="sep"></div>
        <a href="https://cuteyxat.github.io/triumph/"target="_blank">MESSAGES</a>
      </div>
    </div>
  </div>
  <div id="innerwrapper">
   <style>
        h1{text-align: center;}
    </style>
	<br>
	<br>
	<div class="wrapper">
    <div class="typing-demo">
        <center><p><p style="color:#a65185";"font-size:2px">"I don't know if you're beautiful until after we have a conversation.</p>
		<p><p style="color:#a65185";"font-size:2px">Ah and, you know? That's rarely ever.. I will adjust my perception to each</p>
		<p><p style="color:#a65185";"font-size:2px">of you on how you behave accordingly in my world...." -C</p>
		</center>
</div>
</div>
<title>Animated Image</title>
      <center><img src="https://img.xatblog.net/image/sVFb8QM0j.gif" alt="some_text" style="opacity:0.4;filter:alpha(opacity=40);"/></center>
  <div id="jump">
    <a href="javascript:scroll(0,0);" title="scroll to top">
      <i class="ri-arrow-up-s-line"></i>
    </a>
    <div class="sep"></div>
    <a href="#bottom" title="scroll to bottom">
      <i class="ri-arrow-down-s-line"></i>
    </a>
  </div>
</div>
<div id="bottom"></div>
       <style>
		@font-face {
  font-family: 'elixia';
  src: url('https://files.jcink.net/uploads/summertests/fonts/ELIXIA.ttf');
}

html {
  scroll-behavior: smooth;
}

body {
  overflow-y: hidden; /* Hide vertical scrollbar */
  overflow-x: hidden; /* Hide horizontal scrollbar */
  padding: 0px;
  margin: 0px;
  background: var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;
  
  /*FONTS*/
  --display: 'elixia';
  --display-large: 15vh/1 var(--display);
  --display-large-sp: 45px;
  --mono: 'aglet-mono';
  --mono-body: .8125rem/1.25 var(--mono);
  --mono-body-sp: 1.5px;
  
  /*COLORS*/
  --clear: rgba(255, 255, 255, 0);
  --white: 245, 244, 250;
  --black: 18, 6, 19;
  --pink: 190, 41, 105;
  --light-pink: 251, 152, 205;
  --purple: ;
  --light-purple: 136, 124, 148;
  --eggplant: 36, 13, 39;
  --blue: 0, 115, 198;
  --dark-blue: 27, 61, 117;
  
  /*GRADIENTS*/
  --lr-eggplant70: linear-gradient(to bottom, 
    rgba(var(--eggplant), .7), 
    rgba(var(--eggplant), .7));
  --lr-eggplant90: linear-gradient(to bottom, 
    rgba(var(--eggplant), .9), 
    rgba(var(--eggplant), .9));
  --lr-black85: linear-gradient(to bottom, 
    rgba(var(--black), .85), 
    rgba(var(--black), .85));
  --lr-pink-blue: linear-gradient(to right, 
    rgba(var(--pink), 1), 
    rgba(var(--blue), 1));
  --lr-clear-pink: linear-gradient(to right, 
    var(--clear), 
    rgba(var(--pink), 1),
    var(--clear));
  --rg-pink-clear: radial-gradient(circle, 
    rgba(var(--pink), 1),
    var(--clear) 90%);
  
  /*IMAGES*/
  --bg1: url('https://images.unsplash.com/photo-1573767291321-c0af2eaf5266');
  --bg2: url('https://images.unsplash.com/photo-1519608487953-e999c86e7455');
  --bg3: url('https://images.unsplash.com/photo-1561344640-2453889cde5b'); /* center 80% */
  --bg4: url('https://images.unsplash.com/photo-1571331154805-c2a013108395');
  --bg5: url('https://images.unsplash.com/photo-1531931477284-7e16215c9540'); /* nice */
  
  --texture: url('https://www.transparenttextures.com/patterns/concrete-wall-2.png');
  --texture2: url('https://www.transparenttextures.com/patterns/black-paper.png');
  
  /*OTHER*/
  --site-name: 'Site Name';
}

*, *::before, *::after { box-sizing: border-box; }

a { text-decoration: none; }



#header1 {
  width: 100vw;
  height: 90vh;
  background: var(--lr-black85), var(--texture);
  display: flex;
  justify-content: center;
  align-items: center;
  position: fixed;
  top: 0;
  right: 0;
  bottob: 0;
  left: 0;
  z-index: 0;
}
#header1 .tech {
  margin-left: 45px;
  font: var(--display-large);
  letter-spacing: var(--display-large-sp);
  text-transform: uppercase;
  color: var(--clear);
  background: var(--lr-pink-blue);
  -webkit-background-clip: text;
  position: relative;
  z-index: 1;
}

#header2 {
  margin-top: 85vh;
  height: 15vh;
  width: 100vw;
  padding: 0 1rem;
  background: var(--lr-eggplant90), var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;
  border-top: 5px solid rgb(var(--pink));
  font: var(--mono-body);
  letter-spacing: var(--mono-body-sp);
  text-transform: uppercase;
  color: rgba(var(--white), .6);
  position: relative;
  z-index: 5;
  display: grid;
  grid-template-columns: calc(50% - 7vw) 14vw calc(50% - 7vw);
  grid-template-rows: 15vh;
  grid-template-areas: 
    'blurb icon links';
}
#header2::before {
  content: '';
  position: absolute;
  top: -5vh;
  left: 42vw;
  width: 16vw;
  height: 5vh;
  clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
  background: rgb(var(--pink));
  border-top: 5px solid rgb(var(--pink));
}
#header2::after {
  content: '';
  position: absolute;
  top: calc(-5vh + 5px);
  left: calc(42vw + 5px);
  width: calc(16vw - 10px);
  height: calc(5vh - 3px);
  clip-path: polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%);
  background: var(--lr-eggplant90), var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;
}

#header2 > div {
  display: flex;
  justify-content: center;
  align-items: center;
}

#header2 .blurb {
  grid-area: blurb;
  max-width: 65ch;
  overflow: auto;
  margin: 0 auto;
}

#header2 .icon {
  grid-area: icon;
  position: relative;
  z-index: 5;
  margin: 0 0 4vh 0;
  font-size: 3rem;
}
#header2 .icon a {
  color: var(--clear);
  background: var(--lr-pink-blue);
  -webkit-background-clip: text;
}

@keyframes tabicon {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

#header2 .links {
  grid-area: links;
  flex-flow: row wrap;
}
#header2 .links a {
  color: rgba(var(--white), .6);
  position: relative;
  margin: 0 10px 10px 10px;
}
#header2 .links a::before {
  content: '';
  position: absolute;
  bottom: -6px;
  left: -3px;
  width: calc(100% + 6px);
  height: 2px;
  background: rgb(var(--blue));
  opacity: .5;
  transition: .5s linear;
}
#header2 .links a::after {
  content: '';
  position: absolute;
  bottom: -9px;
  left: -6px;
  width: 8px;
  height: 8px;
  border-radius: 100%;
  -webkit-border-radius: 100%;
  background: var(--rg-pink-clear);
  transition: .5s linear;
}
#header2 .links a:hover::after {
  left: 95%;
  transition: .5s linear;
}
#header2 .links a:hover::before {
  opacity: 1;
  transition: .5s linear;
}

#wrapper {
  width: 100vw;
  padding: 0;
  background: var(--lr-eggplant90), var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;
  position: relative;
  z-index: 3;
  display: grid;
  grid-template-columns: 3rem 1fr 3rem;
  grid-template-rows: 4rem auto;
  grid-template-areas:
    'user user user'
    'nav inner jump';
}

#wrapper .tri-left {
  grid-area: inner;
  width: calc(5vh + 2px);
  height: calc(5vh + 2px);
  margin: -2px 0 0 -1px;
  position: sticky;
  top: calc(4rem - 2px);
  clip-path: polygon(100% 0, 0% 100%, 0 0);
  z-index: 1000; 
  background: var(--lr-eggplant90), var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;
}
#wrapper .tri-right {
  grid-area: inner;
  width: calc(5vh + 2px);
  height: calc(5vh + 2px);
  margin: -2px -1px 0 0;
  position: sticky;
  top: calc(4rem - 2px);
  margin-left: auto;
  clip-path: polygon(100% 0, 0% 0, 100% 100%);
  z-index: 1000; 
  background: var(--lr-eggplant90), var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;

}

#wrapper #user-bar {
  grid-area: user;
  width: calc(100vw - 6rem);
  height: 4rem;
  margin: 0 auto;
  position: sticky; 
  top: 0;
  z-index: 1000; 
  background: var(--lr-eggplant90), var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;
  border-bottom: 2px solid rgb(var(--pink));
  font: var(--mono-body);
  letter-spacing: var(--mono-body-sp);
  text-transform: uppercase;
  color: rgba(var(--white), .6);
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  grid-template-rows: 4rem;
  grid-template-areas: 'left name right';
  grid-column-gap: 2rem;
}

#wrapper #user-bar::before {
  content: '';
  width: 7vh;
  height: 7vh;
  position: absolute;
  bottom: calc(-3.5vh - 2px);
  left: calc(-3.5vh + 2px);
  background: var(--clear);
  border-right: 2px solid rgb(var(--pink));
  transform: rotate(45deg);
}
#wrapper #user-bar::after {
  content: '';
  width: 7vh;
  height: 7vh;
  position: absolute;
  bottom: calc(-3.5vh - 2px);
  right: calc(-3.5vh + 2px);
  background: var(--clear);
  border-bottom: 2px solid rgb(var(--pink));
  transform: rotate(45deg);
}

#wrapper #user-bar a {
  margin: 0 10px;
  color: rgba(var(--white), .6);
  font-size: .9rem;
}
#wrapper #user-bar i.new {
  color: rgb(var(--pink));
}
#wrapper #user-bar a.name {
  grid-area: name;
  margin-top: 5px;
  display: flex;
  justify-content: center;
  align-items: center;
  font: 1.7rem/1 var(--display);
  word-spacing: 10px;
  color: var(--clear);
  background: var(--lr-pink-blue);
  -webkit-background-clip: text;
}

#wrapper #user-bar .left {
  grid-area: left;
  display: flex;
  justify-content: flex-end;
  align-items: center;
}
#wrapper #user-bar .right {
  grid-area: right;
  display: flex;
  justify-content: flex-start;
  align-items: center;
}

#wrapper #navigation {
  grid-area: nav;
  font: var(--mono-body);
  letter-spacing: var(--mono-body-sp);
  text-transform: uppercase;
  color: rgba(var(--white), .6);
  writing-mode: vertical-lr;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  position: relative;
}
#wrapper #navigation .navigation {
  height: calc(100vh - 4rem);
  padding: 1rem 0;
  position: sticky;
  top: 4rem;
  transform: rotate(180deg);
}
#wrapper #navigation .navigation a {
  color: rgba(var(--white), .6);
}
#wrapper #navigation .navigation .sep {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 100%;
  -webkit-border-radius: 100%;
  background: var(--rg-pink-clear);
}

#wrapper #jump {
  grid-area: jump;
  height: calc(20vh - 4rem);
  padding: 1rem 0;
  position: sticky;
  top: 4rem;
  font: var(--mono-body);
  letter-spacing: var(--mono-body-sp);
  text-transform: uppercase;
  color: rgba(var(--white), .6);
  display: flex;
  flex-flow: column nowrap;
  justify-content: flex-end;
   align-items: left;
}

#wrapper #jump a {
  color: rgba(var(--white), .6);
  font-size: .9rem;
  position: relative;
  left: 1155px;
}

#wrapper #jump .sep {
  width: 8px;
  height: 8px;
  margin: 5px 0;
  border-radius: 100%;
  -webkit-border-radius: 100%;
  background: var(--rg-pink-clear);
  position: relative;
  left: 30px;
  
}

#wrapper #innerwrapper {
  grid-area: inner;
  min-height: 3000px;
  background: var(--lr-black85), var(--bg3);
  background-attachment: fixed;
  background-size: cover;
  background-position: center 80%;
  border-left: 2px solid rgb(var(--pink));
  border-right: 2px solid rgb(var(--pink));
  
}

.wrapper {
  height: 20vh;
  /*This part is important for centering*/
  display: grid;
  place-items: center;
}

.typing-demo {
  width: 100ch;
  animation: typing 20s steps(22), blink .5s step-end infinite alternate;
  color: #a65185;
  white-space: nowrap;
  overflow: hidden;
  border-right: 3px solid;
  font-family: monospace;
  font-size: 0.625em;
}

@keyframes typing {
  from {
    width: 0
  }
}
    
@keyframes blink {
  50% {
    border-color: transparent
  }
}



@media (max-width: 500px) { 
  
}
</style>

<script>
/*

INSPO 

https://www.freefonts.io/wp-content/uploads/2017/07/elixia-cover.jpg

fonts to try: elixia, exan, high tide, skyer, 



requirements:
â€” overall should be dark with neon/bright accents
â€” 1 cyberpunk-y display accent font + 1 sans or mono font
â€” site name + nav tree + user menu
â€” background should be inspired by background inspo below
â€” 1+ cut off corner (e.g., the 45-degree angles in layout inspo!!! below)

bonus: 
+5 points for including a keyframe animation somewhere
+5 points for paragraph blurb and staff images

notes:
some things to consider: cyberpunk tends to look really busy. it doesn't have to be, but the settings are almost always super busy cities. dark. lots of lights. consider playing with glows. sharp fonts and sharp angles. lots of detail. semi-transparent elements overlapping. 

inspiration:
colors/glows: https://dribbble.com/shots/15160875-Player-UI
neons/borders/glows: https://dribbble.com/shots/15700318-Enef-NFT-Marketplace-Website
vibes/setting: https://www.pinterest.com/pin/519462138269818316/
vibe + layout inspo: https://dribbble.com/shots/14946026-Cyberpunk-2077-Ui-Design-Concept
layout inspo: https://dribbble.com/shots/14999548-Nera-Sunglasses-Ui-Ux-Design-Concept
layout inspo!!!: https://dribbble.com/shots/9875502-Project-Sivappu-Alternative-front-end-for-YouTube
background inspo: https://unsplash.com/photos/yVUQlyRlJSw

additional font inspo: https://discord.com/channels/831903900478734338/837897460860059678/861062290828427264




*/ 
/** @license
 * DHTML Snowstorm! JavaScript-based snow for web pages
 * Making it snow on the internets since 2003. You're welcome.
 * -----------------------------------------------------------
 * Version 1.44.20131208 (Previous rev: 1.44.20131125)
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License
 * http://schillmania.com/projects/snowstorm/license.txt
 */

/*jslint nomen: true, plusplus: true, sloppy: true, vars: true, white: true */
/*global window, document, navigator, clearInterval, setInterval */

var snowStorm = (function(window, document) {

  // --- common properties ---

  this.autoStart = true;          // Whether the snow should start automatically or not.
  this.excludeMobile = true;      // Snow is likely to be bad news for mobile phones' CPUs (and batteries.) Enable at your own risk.
  this.flakesMax = 128;           // Limit total amount of snow made (falling + sticking)
  this.flakesMaxActive = 64;      // Limit amount of snow falling at once (less = lower CPU use)
  this.animationInterval = 50;    // Theoretical "miliseconds per frame" measurement. 20 = fast + smooth, but high CPU use. 50 = more conservative, but slower
  this.useGPU = true;             // Enable transform-based hardware acceleration, reduce CPU load.
  this.className = null;          // CSS class name for further customization on snow elements
  this.excludeMobile = true;      // Snow is likely to be bad news for mobile phones' CPUs (and batteries.) By default, be nice.
  this.flakeBottom = null;        // Integer for Y axis snow limit, 0 or null for "full-screen" snow effect
  this.followMouse = false;        // Snow movement can respond to the user's mouse
  this.snowColor = '#a65185';        // Don't eat (or use?) yellow snow.
  this.snowCharacter = '&bull;';  // &bull; = bullet, &middot; is square on some systems etc.
  this.snowStick = true;          // Whether or not snow should "stick" at the bottom. When off, will never collect.
  this.targetElement = null;      // element which snow will be appended to (null = document.body) - can be an element ID eg. 'myDiv', or a DOM node reference
  this.useMeltEffect = true;      // When recycling fallen snow (or rarely, when falling), have it "melt" and fade out if browser supports it
  this.useTwinkleEffect = false;  // Allow snow to randomly "flicker" in and out of view while falling
  this.usePositionFixed = false;  // true = snow does not shift vertically when scrolling. May increase CPU load, disabled by default - if enabled, used only where supported
  this.usePixelPosition = false;  // Whether to use pixel values for snow top/left vs. percentages. Auto-enabled if body is position:relative or targetElement is specified.

  // --- less-used bits ---

  this.freezeOnBlur = true;       // Only snow when the window is in focus (foreground.) Saves CPU.
  this.flakeLeftOffset = 0;       // Left margin/gutter space on edge of container (eg. browser window.) Bump up these values if seeing horizontal scrollbars.
  this.flakeRightOffset = 0;      // Right margin/gutter space on edge of container
  this.flakeWidth = 8;            // Max pixel width reserved for snow element
  this.flakeHeight = 8;           // Max pixel height reserved for snow element
  this.vMaxX = 5;                 // Maximum X velocity range for snow
  this.vMaxY = 4;                 // Maximum Y velocity range for snow
  this.zIndex = 0;                // CSS stacking order applied to each snowflake

  // --- "No user-serviceable parts inside" past this point, yadda yadda ---

  var storm = this,
  features,
  // UA sniffing and backCompat rendering mode checks for fixed position, etc.
  isIE = navigator.userAgent.match(/msie/i),
  isIE6 = navigator.userAgent.match(/msie 6/i),
  isMobile = navigator.userAgent.match(/mobile|opera m(ob|in)/i),
  isBackCompatIE = (isIE && document.compatMode === 'BackCompat'),
  noFixed = (isBackCompatIE || isIE6),
  screenX = null, screenX2 = null, screenY = null, scrollY = null, docHeight = null, vRndX = null, vRndY = null,
  windOffset = 1,
  windMultiplier = 2,
  flakeTypes = 6,
  fixedForEverything = false,
  targetElementIsRelative = false,
  opacitySupported = (function(){
    try {
      document.createElement('div').style.opacity = '0.5';
    } catch(e) {
      return false;
    }
    return true;
  }()),
  didInit = false,
  docFrag = document.createDocumentFragment();

  features = (function() {

    var getAnimationFrame;

    /**
     * hat tip: paul irish
     * http://paulirish.com/2011/requestanimationframe-for-smart-animating/
     * https://gist.github.com/838785
     */

    function timeoutShim(callback) {
      window.setTimeout(callback, 1000/(storm.animationInterval || 20));
    }

    var _animationFrame = (window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        timeoutShim);

    // apply to window, avoid "illegal invocation" errors in Chrome
    getAnimationFrame = _animationFrame ? function() {
      return _animationFrame.apply(window, arguments);
    } : null;

    var testDiv;

    testDiv = document.createElement('div');

    function has(prop) {

      // test for feature support
      var result = testDiv.style[prop];
      return (result !== undefined ? prop : null);

    }

    // note local scope.
    var localFeatures = {

      transform: {
        ie:  has('-ms-transform'),
        moz: has('MozTransform'),
        opera: has('OTransform'),
        webkit: has('webkitTransform'),
        w3: has('transform'),
        prop: null // the normalized property value
      },

      getAnimationFrame: getAnimationFrame

    };

    localFeatures.transform.prop = (
      localFeatures.transform.w3 || 
      localFeatures.transform.moz ||
      localFeatures.transform.webkit ||
      localFeatures.transform.ie ||
      localFeatures.transform.opera
    );

    testDiv = null;

    return localFeatures;

  }());

  this.timer = null;
  this.flakes = [];
  this.disabled = false;
  this.active = false;
  this.meltFrameCount = 20;
  this.meltFrames = [];

  this.setXY = function(o, x, y) {

    if (!o) {
      return false;
    }

    if (storm.usePixelPosition || targetElementIsRelative) {

      o.style.left = (x - storm.flakeWidth) + 'px';
      o.style.top = (y - storm.flakeHeight) + 'px';

    } else if (noFixed) {

      o.style.right = (100-(x/screenX*100)) + '%';
      // avoid creating vertical scrollbars
      o.style.top = (Math.min(y, docHeight-storm.flakeHeight)) + 'px';

    } else {

      if (!storm.flakeBottom) {

        // if not using a fixed bottom coordinate...
        o.style.right = (100-(x/screenX*100)) + '%';
        o.style.bottom = (100-(y/screenY*100)) + '%';

      } else {

        // absolute top.
        o.style.right = (100-(x/screenX*100)) + '%';
        o.style.top = (Math.min(y, docHeight-storm.flakeHeight)) + 'px';

      }

    }

  };

  this.events = (function() {

    var old = (!window.addEventListener && window.attachEvent), slice = Array.prototype.slice,
    evt = {
      add: (old?'attachEvent':'addEventListener'),
      remove: (old?'detachEvent':'removeEventListener')
    };

    function getArgs(oArgs) {
      var args = slice.call(oArgs), len = args.length;
      if (old) {
        args[1] = 'on' + args[1]; // prefix
        if (len > 3) {
          args.pop(); // no capture
        }
      } else if (len === 3) {
        args.push(false);
      }
      return args;
    }

    function apply(args, sType) {
      var element = args.shift(),
          method = [evt[sType]];
      if (old) {
        element[method](args[0], args[1]);
      } else {
        element[method].apply(element, args);
      }
    }

    function addEvent() {
      apply(getArgs(arguments), 'add');
    }

    function removeEvent() {
      apply(getArgs(arguments), 'remove');
    }

    return {
      add: addEvent,
      remove: removeEvent
    };

  }());

  function rnd(n,min) {
    if (isNaN(min)) {
      min = 0;
    }
    return (Math.random()*n)+min;
  }

  function plusMinus(n) {
    return (parseInt(rnd(2),10)===1?n*-1:n);
  }

  this.randomizeWind = function() {
    var i;
    vRndX = plusMinus(rnd(storm.vMaxX,0.2));
    vRndY = rnd(storm.vMaxY,0.2);
    if (this.flakes) {
      for (i=0; i<this.flakes.length; i++) {
        if (this.flakes[i].active) {
          this.flakes[i].setVelocities();
        }
      }
    }
  };

  this.scrollHandler = function() {
    var i;
    // "attach" snowflakes to bottom of window if no absolute bottom value was given
    scrollY = (storm.flakeBottom ? 0 : parseInt(window.scrollY || document.documentElement.scrollTop || (noFixed ? document.body.scrollTop : 0), 10));
    if (isNaN(scrollY)) {
      scrollY = 0; // Netscape 6 scroll fix
    }
    if (!fixedForEverything && !storm.flakeBottom && storm.flakes) {
      for (i=0; i<storm.flakes.length; i++) {
        if (storm.flakes[i].active === 0) {
          storm.flakes[i].stick();
        }
      }
    }
  };

  this.resizeHandler = function() {
    if (window.innerWidth || window.innerHeight) {
      screenX = window.innerWidth - 16 - storm.flakeRightOffset;
      screenY = (storm.flakeBottom || window.innerHeight);
    } else {
      screenX = (document.documentElement.clientWidth || document.body.clientWidth || document.body.scrollWidth) - (!isIE ? 8 : 0) - storm.flakeRightOffset;
      screenY = storm.flakeBottom || document.documentElement.clientHeight || document.body.clientHeight || document.body.scrollHeight;
    }
    docHeight = document.body.offsetHeight;
    screenX2 = parseInt(screenX/2,10);
  };

  this.resizeHandlerAlt = function() {
    screenX = storm.targetElement.offsetWidth - storm.flakeRightOffset;
    screenY = storm.flakeBottom || storm.targetElement.offsetHeight;
    screenX2 = parseInt(screenX/2,10);
    docHeight = document.body.offsetHeight;
  };

  this.freeze = function() {
    // pause animation
    if (!storm.disabled) {
      storm.disabled = 1;
    } else {
      return false;
    }
    storm.timer = null;
  };

  this.resume = function() {
    if (storm.disabled) {
       storm.disabled = 0;
    } else {
      return false;
    }
    storm.timerInit();
  };

  this.toggleSnow = function() {
    if (!storm.flakes.length) {
      // first run
      storm.start();
    } else {
      storm.active = !storm.active;
      if (storm.active) {
        storm.show();
        storm.resume();
      } else {
        storm.stop();
        storm.freeze();
      }
    }
  };

  this.stop = function() {
    var i;
    this.freeze();
    for (i=0; i<this.flakes.length; i++) {
      this.flakes[i].o.style.display = 'none';
    }
    storm.events.remove(window,'scroll',storm.scrollHandler);
    storm.events.remove(window,'resize',storm.resizeHandler);
    if (storm.freezeOnBlur) {
      if (isIE) {
        storm.events.remove(document,'focusout',storm.freeze);
        storm.events.remove(document,'focusin',storm.resume);
      } else {
        storm.events.remove(window,'blur',storm.freeze);
        storm.events.remove(window,'focus',storm.resume);
      }
    }
  };

  this.show = function() {
    var i;
    for (i=0; i<this.flakes.length; i++) {
      this.flakes[i].o.style.display = 'block';
    }
  };

  this.SnowFlake = function(type,x,y) {
    var s = this;
    this.type = type;
    this.x = x||parseInt(rnd(screenX-20),10);
    this.y = (!isNaN(y)?y:-rnd(screenY)-12);
    this.vX = null;
    this.vY = null;
    this.vAmpTypes = [1,1.2,1.4,1.6,1.8]; // "amplification" for vX/vY (based on flake size/type)
    this.vAmp = this.vAmpTypes[this.type] || 1;
    this.melting = false;
    this.meltFrameCount = storm.meltFrameCount;
    this.meltFrames = storm.meltFrames;
    this.meltFrame = 0;
    this.twinkleFrame = 0;
    this.active = 1;
    this.fontSize = (10+(this.type/5)*10);
    this.o = document.createElement('div');
    this.o.innerHTML = storm.snowCharacter;
    if (storm.className) {
      this.o.setAttribute('class', storm.className);
    }
    this.o.style.color = storm.snowColor;
    this.o.style.position = (fixedForEverything?'fixed':'absolute');
    if (storm.useGPU && features.transform.prop) {
      // GPU-accelerated snow.
      this.o.style[features.transform.prop] = 'translate3d(0px, 0px, 0px)';
    }
    this.o.style.width = storm.flakeWidth+'px';
    this.o.style.height = storm.flakeHeight+'px';
    this.o.style.fontFamily = 'arial,verdana';
    this.o.style.cursor = 'default';
    this.o.style.overflow = 'hidden';
    this.o.style.fontWeight = 'normal';
    this.o.style.zIndex = storm.zIndex;
    docFrag.appendChild(this.o);

    this.refresh = function() {
      if (isNaN(s.x) || isNaN(s.y)) {
        // safety check
        return false;
      }
      storm.setXY(s.o, s.x, s.y);
    };

    this.stick = function() {
      if (noFixed || (storm.targetElement !== document.documentElement && storm.targetElement !== document.body)) {
        s.o.style.top = (screenY+scrollY-storm.flakeHeight)+'px';
      } else if (storm.flakeBottom) {
        s.o.style.top = storm.flakeBottom+'px';
      } else {
        s.o.style.display = 'none';
        s.o.style.bottom = '0%';
        s.o.style.position = 'fixed';
        s.o.style.display = 'block';
      }
    };

    this.vCheck = function() {
      if (s.vX>=0 && s.vX<0.2) {
        s.vX = 0.2;
      } else if (s.vX<0 && s.vX>-0.2) {
        s.vX = -0.2;
      }
      if (s.vY>=0 && s.vY<0.2) {
        s.vY = 0.2;
      }
    };

    this.move = function() {
      var vX = s.vX*windOffset, yDiff;
      s.x += vX;
      s.y += (s.vY*s.vAmp);
      if (s.x >= screenX || screenX-s.x < storm.flakeWidth) { // X-axis scroll check
        s.x = 0;
      } else if (vX < 0 && s.x-storm.flakeLeftOffset < -storm.flakeWidth) {
        s.x = screenX-storm.flakeWidth-1; // flakeWidth;
      }
      s.refresh();
      yDiff = screenY+scrollY-s.y+storm.flakeHeight;
      if (yDiff<storm.flakeHeight) {
        s.active = 0;
        if (storm.snowStick) {
          s.stick();
        } else {
          s.recycle();
        }
      } else {
        if (storm.useMeltEffect && s.active && s.type < 3 && !s.melting && Math.random()>0.998) {
          // ~1/1000 chance of melting mid-air, with each frame
          s.melting = true;
          s.melt();
          // only incrementally melt one frame
          // s.melting = false;
        }
        if (storm.useTwinkleEffect) {
          if (s.twinkleFrame < 0) {
            if (Math.random() > 0.97) {
              s.twinkleFrame = parseInt(Math.random() * 8, 10);
            }
          } else {
            s.twinkleFrame--;
            if (!opacitySupported) {
              s.o.style.visibility = (s.twinkleFrame && s.twinkleFrame % 2 === 0 ? 'hidden' : 'visible');
            } else {
              s.o.style.opacity = (s.twinkleFrame && s.twinkleFrame % 2 === 0 ? 0 : 1);
            }
          }
        }
      }
    };

    this.animate = function() {
      // main animation loop
      // move, check status, die etc.
      s.move();
    };

    this.setVelocities = function() {
      s.vX = vRndX+rnd(storm.vMaxX*0.12,0.1);
      s.vY = vRndY+rnd(storm.vMaxY*0.12,0.1);
    };

    this.setOpacity = function(o,opacity) {
      if (!opacitySupported) {
        return false;
      }
      o.style.opacity = opacity;
    };

    this.melt = function() {
      if (!storm.useMeltEffect || !s.melting) {
        s.recycle();
      } else {
        if (s.meltFrame < s.meltFrameCount) {
          s.setOpacity(s.o,s.meltFrames[s.meltFrame]);
          s.o.style.fontSize = s.fontSize-(s.fontSize*(s.meltFrame/s.meltFrameCount))+'px';
          s.o.style.lineHeight = storm.flakeHeight+2+(storm.flakeHeight*0.75*(s.meltFrame/s.meltFrameCount))+'px';
          s.meltFrame++;
        } else {
          s.recycle();
        }
      }
    };

    this.recycle = function() {
      s.o.style.display = 'none';
      s.o.style.position = (fixedForEverything?'fixed':'absolute');
      s.o.style.bottom = 'auto';
      s.setVelocities();
      s.vCheck();
      s.meltFrame = 0;
      s.melting = false;
      s.setOpacity(s.o,1);
      s.o.style.padding = '0px';
      s.o.style.margin = '0px';
      s.o.style.fontSize = s.fontSize+'px';
      s.o.style.lineHeight = (storm.flakeHeight+2)+'px';
      s.o.style.textAlign = 'center';
      s.o.style.verticalAlign = 'baseline';
      s.x = parseInt(rnd(screenX-storm.flakeWidth-20),10);
      s.y = parseInt(rnd(screenY)*-1,10)-storm.flakeHeight;
      s.refresh();
      s.o.style.display = 'block';
      s.active = 1;
    };

    this.recycle(); // set up x/y coords etc.
    this.refresh();

  };

  this.snow = function() {
    var active = 0, flake = null, i, j;
    for (i=0, j=storm.flakes.length; i<j; i++) {
      if (storm.flakes[i].active === 1) {
        storm.flakes[i].move();
        active++;
      }
      if (storm.flakes[i].melting) {
        storm.flakes[i].melt();
      }
    }
    if (active<storm.flakesMaxActive) {
      flake = storm.flakes[parseInt(rnd(storm.flakes.length),10)];
      if (flake.active === 0) {
        flake.melting = true;
      }
    }
    if (storm.timer) {
      features.getAnimationFrame(storm.snow);
    }
  };

  this.mouseMove = function(e) {
    if (!storm.followMouse) {
      return true;
    }
    var x = parseInt(e.clientX,10);
    if (x<screenX2) {
      windOffset = -windMultiplier+(x/screenX2*windMultiplier);
    } else {
      x -= screenX2;
      windOffset = (x/screenX2)*windMultiplier;
    }
  };

  this.createSnow = function(limit,allowInactive) {
    var i;
    for (i=0; i<limit; i++) {
      storm.flakes[storm.flakes.length] = new storm.SnowFlake(parseInt(rnd(flakeTypes),10));
      if (allowInactive || i>storm.flakesMaxActive) {
        storm.flakes[storm.flakes.length-1].active = -1;
      }
    }
    storm.targetElement.appendChild(docFrag);
  };

  this.timerInit = function() {
    storm.timer = true;
    storm.snow();
  };

  this.init = function() {
    var i;
    for (i=0; i<storm.meltFrameCount; i++) {
      storm.meltFrames.push(1-(i/storm.meltFrameCount));
    }
    storm.randomizeWind();
    storm.createSnow(storm.flakesMax); // create initial batch
    storm.events.add(window,'resize',storm.resizeHandler);
    storm.events.add(window,'scroll',storm.scrollHandler);
    if (storm.freezeOnBlur) {
      if (isIE) {
        storm.events.add(document,'focusout',storm.freeze);
        storm.events.add(document,'focusin',storm.resume);
      } else {
        storm.events.add(window,'blur',storm.freeze);
        storm.events.add(window,'focus',storm.resume);
      }
    }
    storm.resizeHandler();
    storm.scrollHandler();
    if (storm.followMouse) {
      storm.events.add(isIE?document:window,'mousemove',storm.mouseMove);
    }
    storm.animationInterval = Math.max(20,storm.animationInterval);
    storm.timerInit();
  };

  this.start = function(bFromOnLoad) {
    if (!didInit) {
      didInit = true;
    } else if (bFromOnLoad) {
      // already loaded and running
      return true;
    }
    if (typeof storm.targetElement === 'string') {
      var targetID = storm.targetElement;
      storm.targetElement = document.getElementById(targetID);
      if (!storm.targetElement) {
        throw new Error('Snowstorm: Unable to get targetElement "'+targetID+'"');
      }
    }
    if (!storm.targetElement) {
      storm.targetElement = (document.body || document.documentElement);
    }
    if (storm.targetElement !== document.documentElement && storm.targetElement !== document.body) {
      // re-map handler to get element instead of screen dimensions
      storm.resizeHandler = storm.resizeHandlerAlt;
      //and force-enable pixel positioning
      storm.usePixelPosition = true;
    }
    storm.resizeHandler(); // get bounding box elements
    storm.usePositionFixed = (storm.usePositionFixed && !noFixed && !storm.flakeBottom); // whether or not position:fixed is to be used
    if (window.getComputedStyle) {
      // attempt to determine if body or user-specified snow parent element is relatlively-positioned.
      try {
        targetElementIsRelative = (window.getComputedStyle(storm.targetElement, null).getPropertyValue('position') === 'relative');
      } catch(e) {
        // oh well
        targetElementIsRelative = false;
      }
    }
    fixedForEverything = storm.usePositionFixed;
    if (screenX && screenY && !storm.disabled) {
      storm.init();
      storm.active = true;
    }
  };

  function doDelayedStart() {
    window.setTimeout(function() {
      storm.start(true);
    }, 20);
    // event cleanup
    storm.events.remove(isIE?document:window,'mousemove',doDelayedStart);
  }

  function doStart() {
    if (!storm.excludeMobile || !isMobile) {
      doDelayedStart();
    }
    // event cleanup
    storm.events.remove(window, 'load', doStart);
  }

  // hooks for starting the snow
  if (storm.autoStart) {
    storm.events.add(window, 'load', doStart, false);
  }

  return this;

}(window, document));

</script>
